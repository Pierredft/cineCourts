{% extends 'base.html.twig' %} 
{% block title %}Accueil {% endblock %}
{% block body %}
{# !!!!!! CAROUSEL DES NOUVEAUTÉ !!!!! #}
    <div id="carouselExampleDark" class="carousel carousel-dark slide" data-bs-ride="carousel">
        <div class="carousel-indicators">
            {% for films in films %}
                <button type="button" data-bs-target="#carouselExampleDark" data-bs-slide-to="{{ loop.index0 }}" {% if loop.first %}class="active" {% endif %}aria-label="Slide {{ loop.index }}" style="background-color: rgba(255, 255, 255, 1);"></button>
            {% endfor %}
        </div>
        <div class="carousel-inner">
            {% for films in films %}
                <div class="carousel-item {% if loop.first %}active{% endif %}" data-bs-interval="5000">
                    <img src="{{ asset ('/images/affiches/' ~ films.affiche)}}" class="imgSizeCarousel" alt="...">
                    {% for video in videos %}
                        <div class="carousel-caption d-none d-md-block">
                            <h5 class="white">{{films.name}}</h5>
                            <a href="{{ path('app_films_show', {'id' : films.id}) }}" class="btn btnReg">Voir</a>
                        </div>
                    {% endfor %}
                </div>
            {% endfor %}
        </div>
        <button class="carousel-control-prev" type="button" data-bs-target="#carouselExampleDark" data-bs-slide="prev" style="background-color: rgba(255, 255, 255);">
            <span class="carousel-control-prev-icon" aria-hidden="true"></span>
            <span class="visually-hidden">Previous</span>
        </button>
        <button class="carousel-control-next" type="button" data-bs-target="#carouselExampleDark" data-bs-slide="next" style="background-color: rgba(255, 255, 255);">
            <span class="carousel-control-next-icon" aria-hidden="true"></span>
            <span class="visually-hidden" >Next</span>
        </button>
    </div>
{# !!!!!! CAROUSEL DES NOUVEAUTÉ !!!!! #}




    <h1 class="white mt-5 ms-5">Recommandé</h1>
    <p class="rectangle ms-5"></p>
    <swiper-container class="mySwiper mb-5" watch-slides-progress="true" slides-per-view="5">
        {% for films in films %}
            <swiper-slide class="ms-5">
                <img src="{{ asset ('/images/affiches/' ~ films.affiche)}}" class="imgSizeSwipper img-fluid imghover openModal" alt="" data-bs-toggle="modal" data-bs-trigger="hover" data-bs-target="#exampleModal-{{ loop.index }}">
            </swiper-slide>
        {% endfor %}
        <swiper-slide></swiper-slide>
        <swiper-slide></swiper-slide>
    </swiper-container>

<!-- Modal -->
    {% for films in films %}
    <div class="modal fade modalSize" id="exampleModal-{{ loop.index }}" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="btn-close btnClose" data-bs-dismiss="modal" aria-label="Close"></button>
                    <a href="{{ path('app_home') }}" class="btn btn-primary btnLecture"><i class="fa-solid fa-play" style="color: #ffffff;"></i> LECTURE</a>

                    {% for video in videos %}
                    <video class="video-background videoBorder" id="video-{{ video.films.id }}" autoplay muted>
                                                <source src="{{ asset ('/uploads/videos/' ~ video.filename) }}" type="video/mp4">
                                                        Votre navigateur ne supporte pas la balise vidéo.
                                                </video>
                    {% endfor %}
                </div>
                </div>
                <div class="modal-body">
                    <h5>{{ films.duree|date('H') }}h {{ films.duree|date('i') }} min</h5>
                    <p>{{films.synopsis}}</p>
                    <h4>À propos de {{films.name}}</h4>
                </div>
            </div>
        </div>
    </div>
    {% endfor %}
    


{% endblock %}
